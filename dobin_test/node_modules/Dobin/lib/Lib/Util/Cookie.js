$.enCookie = function ( name, value, options ) {
	options = options || {};

	var item = [ name + "=" + encodeURIComponent(value) ];

	//设置参数
	if ( options.maxage )
		item.push('Max-Age=' + options.maxage);
	if ( options.domain )
		item.push('Domain=' + options.domain);
	if ( options.path )
		item.push('Path=' + options.path);
	var expires = options.expires;
	if ( expires ){
		if ( $.isDate(expires) )
			expires = new Date( expires );
		item.push('Expires=' + expires.toUTCString() )
	}
	if ( options.httponly )
		item.push('Httponly');
	if ( options.secure )
		item.push('Secure');
	return item.join('; ');
}

$.deCookie = function ( str ) {
	'use strict';
	var data = {};
	str.split(/; */).forEach(function (item) {
		var pos = item.indexOf('=');
		if ( pos===-1 ){
			return;
		}
		var key = item.substr(0, pos).trim();
		var val = item.substr(pos + 1).trim();

		val.replace(/(^\"*)|(\"*$)/g, "");
		//同名键值以第一次为准
		if ( data[key] === undefined ){
			try {
				data[key] = decodeURIComponent( val )
			}
			catch( e ){
				data[key] = val;
			}
		}
	});
	return data;
}

