var fs = require("fs"),
	path = require("path")
	;

module.exports = {
	init : function  () {
		//设置全局参数 $ 为Dobin的外部暴露接口
		global.$  = {}

		$.DOBIN_PATH = __dirname;


	},

	//设置路径
	setPath : function (pathname, pathvalue) {
		$[pathname.toUpperCase()] = pathvalue.toString();
		return this;
	},

	run : function () {
		//检查是否有APP，没有报错
		if( !$.APP_PATH )
			throw new Error('APP_PATH must be defined');
		//启动服务器
		require($.DOBIN_PATH + '/Lib/Base/Server.js').run();

		//启动应用
		require($.DOBIN_PATH + '/Lib/Base/App.js').run();
	}

}